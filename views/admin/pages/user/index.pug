extends ../../layouts/default.pug
include ../../mixins/alert.pug

block main
    .block-main
        +alert-success("9000")

        h3(class="mb-4") Quản lí người dùng
        .mb-3
            .row 
                .col-3
                    form(id="form-search")
                        .input-group
                            input(
                                type="text"
                                placeholder="Tìm kiếm"
                                name="keyword"
                                class="form-control"
                                style="border-top-right-radius: 6px;border-bottom-right-radius: 6px;margin-right: 20px"
                                value=keyword
                            )
                            .input-group-appent 
                                button(
                                    class="btn btn-success"
                                    type="submit"
                                  
                                ) Tìm
                .col-9.text-end 
                    a(
                        href=`${prefixadmin}/accounts/create`
                        class="btn btn-outline-success"
                    ) + Thêm mới
        .card.mb-3
            .card-header Danh sách
            .card-body 
                
                table(
                    class="table table-hover table-sm"
                )
                    thead 
                        tr 
                            th STT 
                            th Ảnh
                            th Email
                            th Họ tên
                            th Ngày sinh
                            th Giới tính 
                            th Điện thoại
                            th Địa chỉ
                            th Chức vụ
                            th Trạng thái
                            th Hành động

                    tbody 
                        each item, index in records 
                            tr 
                                td #{index+1}
                                td  
                                    img.round-avatar(
                                        src=item.avatar
                                        alt=item.fullName
                                        width="50px"
                                        height="auto"
                                    )
                                td #{item.email}
                                td #{item.fullName}
                                td #{item.dateOfBirth}  
                                td 
                                    if(item.sex === "male") 
                                        | Nam
                                    else    
                                        | Nữ
                                td #{item.phone}  
                                td #{item.address}  
                                td  
                                    if(item.role.title === "Quản lý")
                                        .role-quanly #{item.role.title}
                                    else if(item.role.title === "Bán hàng")
                                        .role-banhang #{item.role.title}
                                    //- else 
                                    //-     .role-banthuoc #{item.role.title}
                                td 
                                    if(item.status === "active")
                                        a(
                                            href="javascript:;"
                                            class="badge bg-success"
                                        ) Hoạt động
                                    else 
                                        a(
                                            href="javascript:;"
                                            class="badge bg-danger"
                                        ) Dừng hoạt động
                                td 
                                    .btn-actions
                                        a(
                                            href= `${prefixadmin}/accounts/detail/${item.id}`  
                                            class="item-action" 
                                        ) <i class="fa-solid fa-circle-info"></i>
                                        a(
                                            href= `${prefixadmin}/accounts/edit/${item.id}`
                                            class="item-action" 
                                        ) <i class="fa-regular fa-pen-to-square"></i>
                                        button(
                                            class="item-action" 
                                        ) <i class="fa-regular fa-trash-can"></i>